<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dora bakes -- Decadent baking</title>

    {% load static %}
    {% load bootstrap4 %}
    {% bootstrap_css %} {# calling bootstrap before custom styles allows over-riding BS styles #}
    {% bootstrap_javascript jquery='full' %}
    <script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel = "stylesheet" type="text/css" href="../static/bakery/base_style.css">
    <link rel= "shortcut icon" type='image/png' href="../static/favicon/favicon.png" />
</head>
<body>
    <div class="bakery">
        <div id="app_greeting">
          [[ message ]]
        </div>
        </br>
        {% include "./_modal.html" %}

        <div id="main_app">
             <!--Button trigger modal-->
            <button id="loginBtn" type="button" class="btn btn-primary" data-toggle="modal" data-target="#loginModal">
              Login
            </button>

            <button id="signupBtn" type="button" class="btn btn-primary" data-toggle="modal" data-target="#signupModal">
              Sign Up
            </button>

            </br>
            </br>
            <recipe-card></recipe-card>

        </div>
    </div>

    <script type="text/javascript">
    $(function () {
        $("#loginBtn").modalForm({
            formURL: "{% url 'login' %}",
            modalID: "#loginModal"
          });

        $("#signupBtn").modalForm({
            formURL: "{% url 'signup' %}",
            modalID: "#signupModal"
          });
       });
    </script>

    <!-- Vue.js integration -->
    <script src="https://unpkg.com/vue"></script>

    <!-- template -->
    <template id="recipeCard">
        <div class="recipe-card">
            <div class="recipe-video">
                <img v-bind:src="'static/images/brownie.png'" alt="brownie"/>
                <div class="overlay">
                    <a href="https://www.youtube.com/watch?v=Z1OLG7F3HD4" class="icon" title = "YT Play">
                        <i class="fa fa-youtube-play"></i>
                    </a>
                </div>
            </div>
            </br>

            <div>
                <div class="recipe-text">
                    <div id="recipe-title"> Decadent Brownies </div>
                    <div id="recipe-veg"><img v-bind:src="'static/images/non-veg.png'" alt="veg-indicator"/></div>
                </div>
                </br>
                <div>
                    <div id="recipe-desc"> The best brownies you will ever eat!</div>
                </div>
            </div>

            </br>
            <div id="recipe-written">
                <a href=""> Written recipe </a>
                <div id="recipe-time"> 45 minutes </div>
            </div>

        </div>
    </template>

    <!-- component registration -->
    <script>
    recipeCard = Vue.component('recipe-card', {
        data: function() {
            return { }
            },
        template: '#recipeCard',
    });
    </script>


    <script>
        var bakery = new Vue({
            el: "#app_greeting",
            data: {
                message: "Welcome to Dora Bakes!"
            },
            delimiters : ['[[', ']]']
        })

        var main_app = new Vue({
            el: "#main_app",
            data: {},
            delimiters : ['[[', ']]']
        })

    </script>

</body>
</html>